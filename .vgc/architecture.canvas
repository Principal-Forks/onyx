{
  "vv": {
    "name": "Onyx Architecture",
    "version": "1.0.0",
    "nodeTypes": {
      "nextjs-web": {
        "label": "Next.js Web App",
        "icon": "Globe",
        "color": "#3498db",
        "description": "Frontend web application built with Next.js 16 and React 19"
      },
      "nginx-proxy": {
        "label": "Nginx",
        "icon": "Network",
        "color": "#2ecc71",
        "description": "Reverse proxy and load balancing"
      },
      "fastapi-server": {
        "label": "FastAPI Backend",
        "icon": "Server",
        "color": "#2ecc71",
        "description": "Main backend API server handling all REST endpoints"
      },
      "auth-system": {
        "label": "Authentication",
        "icon": "Shield",
        "color": "#e74c3c",
        "description": "OAuth2, OIDC, SAML, and basic auth"
      },
      "chat-engine": {
        "label": "Chat Engine",
        "icon": "MessageSquare",
        "color": "#9b59b6",
        "description": "LLM orchestration and message processing"
      },
      "indexing-pipeline": {
        "label": "Indexing Pipeline",
        "icon": "FileSearch",
        "color": "#e67e22",
        "description": "Document processing, chunking, and embedding generation"
      },
      "connector-framework": {
        "label": "Connector Framework",
        "icon": "Plug",
        "color": "#f1c40f",
        "description": "40+ data source integrations"
      },
      "postgresql": {
        "label": "PostgreSQL",
        "icon": "Database",
        "color": "#2ecc71",
        "description": "Primary relational database"
      },
      "vespa-search": {
        "label": "Vespa Search",
        "icon": "Search",
        "color": "#e67e22",
        "description": "Hybrid search engine"
      },
      "redis-cache": {
        "label": "Redis",
        "icon": "Zap",
        "color": "#e74c3c",
        "description": "Caching and async task queue"
      },
      "minio-storage": {
        "label": "MinIO",
        "icon": "HardDrive",
        "color": "#f1c40f",
        "description": "S3-compatible file storage"
      },
      "inference-model-server": {
        "label": "Inference Model Server",
        "icon": "Brain",
        "color": "#9b59b6",
        "description": "LLM chat responses and embeddings"
      },
      "indexing-model-server": {
        "label": "Indexing Model Server",
        "icon": "Cpu",
        "color": "#e67e22",
        "description": "Document embedding generation"
      },
      "celery-worker": {
        "label": "Celery Workers",
        "icon": "Settings",
        "color": "#e67e22",
        "description": "Background job processing"
      },
      "llm-providers": {
        "label": "LLM Providers",
        "icon": "Cloud",
        "color": "#9b59b6",
        "description": "OpenAI, Anthropic, Cohere, Google, etc."
      },
      "external-data-sources": {
        "label": "External Data Sources",
        "icon": "CloudDownload",
        "color": "#f1c40f",
        "description": "Slack, GitHub, Confluence, Gmail, etc."
      },
      "mcp-server": {
        "label": "MCP Server",
        "icon": "Box",
        "color": "#9b59b6",
        "description": "Model Context Protocol server"
      },
      "code-interpreter": {
        "label": "Code Interpreter",
        "icon": "Terminal",
        "color": "#3498db",
        "description": "Code execution sandbox"
      }
    },
    "edgeTypes": {
      "http-rest": {
        "label": "HTTP/REST",
        "style": "solid",
        "color": "#3498db",
        "description": "RESTful API communication"
      },
      "http-streaming": {
        "label": "HTTP/SSE",
        "style": "animated",
        "color": "#9b59b6",
        "description": "Server-Sent Events for streaming responses"
      },
      "database-connection": {
        "label": "SQL",
        "style": "solid",
        "color": "#2ecc71",
        "description": "Database queries via SQLAlchemy/asyncpg"
      },
      "redis-connection": {
        "label": "Redis",
        "style": "dashed",
        "color": "#e74c3c",
        "description": "Cache and queue operations"
      },
      "s3-api": {
        "label": "S3 API",
        "style": "solid",
        "color": "#f1c40f",
        "description": "S3-compatible storage API"
      },
      "search-query": {
        "label": "Search Query",
        "style": "solid",
        "color": "#e67e22",
        "description": "Hybrid search queries"
      },
      "celery-task": {
        "label": "Async Task",
        "style": "dotted",
        "color": "#e67e22",
        "description": "Celery background task"
      },
      "external-api": {
        "label": "External API",
        "style": "dashed",
        "color": "#f1c40f",
        "description": "Third-party API calls"
      },
      "llm-request": {
        "label": "LLM Request",
        "style": "solid",
        "color": "#9b59b6",
        "description": "LLM inference request"
      }
    }
  },
  "nodes": [
    {
      "id": "nextjs-web",
      "type": "text",
      "text": "Next.js Web App",
      "x": 512,
      "y": -964,
      "width": 200,
      "height": 100,
      "color": "#3498db",
      "vv": {
        "nodeType": "nextjs-web",
        "shape": "rectangle"
      }
    },
    {
      "id": "nginx-proxy",
      "type": "text",
      "text": "Nginx",
      "x": 510,
      "y": -789,
      "width": 200,
      "height": 100,
      "color": "#2ecc71",
      "vv": {
        "nodeType": "nginx-proxy",
        "shape": "rectangle"
      }
    },
    {
      "id": "fastapi-server",
      "type": "text",
      "text": "FastAPI Backend",
      "x": 509,
      "y": -613,
      "width": 200,
      "height": 100,
      "color": "#2ecc71",
      "vv": {
        "nodeType": "fastapi-server",
        "shape": "rectangle"
      }
    },
    {
      "id": "auth-system",
      "type": "text",
      "text": "Authentication",
      "x": 1347,
      "y": -322,
      "width": 200,
      "height": 80,
      "color": "#e74c3c",
      "vv": {
        "nodeType": "auth-system",
        "shape": "rectangle"
      }
    },
    {
      "id": "chat-engine",
      "type": "text",
      "text": "Chat Engine",
      "x": -160,
      "y": -348,
      "width": 200,
      "height": 80,
      "color": "#9b59b6",
      "vv": {
        "nodeType": "chat-engine",
        "shape": "rectangle"
      }
    },
    {
      "id": "indexing-pipeline",
      "type": "text",
      "text": "Indexing Pipeline",
      "x": 1240,
      "y": -28,
      "width": 200,
      "height": 80,
      "color": "#e67e22",
      "vv": {
        "nodeType": "indexing-pipeline",
        "shape": "rectangle"
      }
    },
    {
      "id": "connector-framework",
      "type": "text",
      "text": "Connector Framework",
      "x": 914,
      "y": 559,
      "width": 200,
      "height": 80,
      "color": "#f1c40f",
      "vv": {
        "nodeType": "connector-framework",
        "shape": "rectangle"
      }
    },
    {
      "id": "postgresql",
      "type": "text",
      "text": "PostgreSQL",
      "x": 102,
      "y": 951,
      "width": 180,
      "height": 80,
      "color": "#2ecc71",
      "vv": {
        "nodeType": "postgresql",
        "shape": "cylinder"
      }
    },
    {
      "id": "vespa-search",
      "type": "text",
      "text": "Vespa Search",
      "x": 687,
      "y": 848,
      "width": 180,
      "height": 80,
      "color": "#e67e22",
      "vv": {
        "nodeType": "vespa-search",
        "shape": "cylinder"
      }
    },
    {
      "id": "redis-cache",
      "type": "text",
      "text": "Redis",
      "x": -129,
      "y": 771,
      "width": 180,
      "height": 80,
      "color": "#e74c3c",
      "vv": {
        "nodeType": "redis-cache",
        "shape": "cylinder"
      }
    },
    {
      "id": "minio-storage",
      "type": "text",
      "text": "MinIO",
      "x": 527,
      "y": -29,
      "width": 180,
      "height": 80,
      "color": "#f1c40f",
      "vv": {
        "nodeType": "minio-storage",
        "shape": "cylinder"
      }
    },
    {
      "id": "inference-model-server",
      "type": "text",
      "text": "Inference Model Server",
      "x": 132,
      "y": -130,
      "width": 200,
      "height": 80,
      "color": "#9b59b6",
      "vv": {
        "nodeType": "inference-model-server",
        "shape": "rectangle"
      }
    },
    {
      "id": "indexing-model-server",
      "type": "text",
      "text": "Indexing Model Server",
      "x": 1245,
      "y": 863,
      "width": 200,
      "height": 80,
      "color": "#e67e22",
      "vv": {
        "nodeType": "indexing-model-server",
        "shape": "rectangle"
      }
    },
    {
      "id": "celery-worker",
      "type": "text",
      "text": "Celery Workers",
      "x": 792,
      "y": -339,
      "width": 200,
      "height": 80,
      "color": "#e67e22",
      "vv": {
        "nodeType": "celery-worker",
        "shape": "rectangle"
      }
    },
    {
      "id": "llm-providers",
      "type": "text",
      "text": "LLM Providers",
      "x": 413,
      "y": 1072,
      "width": 200,
      "height": 100,
      "color": "#9b59b6",
      "vv": {
        "nodeType": "llm-providers",
        "shape": "cloud"
      }
    },
    {
      "id": "external-data-sources",
      "type": "text",
      "text": "External Data Sources",
      "x": 918,
      "y": 825,
      "width": 180,
      "height": 100,
      "color": "#f1c40f",
      "vv": {
        "nodeType": "external-data-sources",
        "shape": "cloud"
      }
    },
    {
      "id": "mcp-server",
      "type": "text",
      "text": "MCP Server",
      "x": 233,
      "y": -342,
      "width": 200,
      "height": 80,
      "color": "#9b59b6",
      "vv": {
        "nodeType": "mcp-server",
        "shape": "rectangle"
      }
    },
    {
      "id": "code-interpreter",
      "type": "text",
      "text": "Code Interpreter",
      "x": -523,
      "y": -138,
      "width": 200,
      "height": 80,
      "color": "#3498db",
      "vv": {
        "nodeType": "code-interpreter",
        "shape": "rectangle"
      }
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "fromNode": "nextjs-web",
      "toNode": "nginx-proxy",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-2",
      "fromNode": "nginx-proxy",
      "toNode": "fastapi-server",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-3",
      "fromNode": "fastapi-server",
      "toNode": "auth-system",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-4",
      "fromNode": "fastapi-server",
      "toNode": "chat-engine",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-5",
      "fromNode": "fastapi-server",
      "toNode": "indexing-pipeline",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-6",
      "fromNode": "fastapi-server",
      "toNode": "connector-framework",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-7",
      "fromNode": "chat-engine",
      "toNode": "nextjs-web",
      "label": "HTTP/SSE",
      "color": "#9b59b6",
      "vv": {
        "edgeType": "http-streaming"
      }
    },
    {
      "id": "edge-8",
      "fromNode": "fastapi-server",
      "toNode": "postgresql",
      "label": "SQL",
      "color": "#2ecc71",
      "vv": {
        "edgeType": "database-connection"
      }
    },
    {
      "id": "edge-9",
      "fromNode": "chat-engine",
      "toNode": "postgresql",
      "label": "SQL",
      "color": "#2ecc71",
      "vv": {
        "edgeType": "database-connection"
      }
    },
    {
      "id": "edge-10",
      "fromNode": "indexing-pipeline",
      "toNode": "postgresql",
      "label": "SQL",
      "color": "#2ecc71",
      "vv": {
        "edgeType": "database-connection"
      }
    },
    {
      "id": "edge-11",
      "fromNode": "connector-framework",
      "toNode": "postgresql",
      "label": "SQL",
      "color": "#2ecc71",
      "vv": {
        "edgeType": "database-connection"
      }
    },
    {
      "id": "edge-12",
      "fromNode": "chat-engine",
      "toNode": "vespa-search",
      "label": "Search Query",
      "color": "#e67e22",
      "vv": {
        "edgeType": "search-query"
      }
    },
    {
      "id": "edge-13",
      "fromNode": "indexing-pipeline",
      "toNode": "vespa-search",
      "label": "Search Query",
      "color": "#e67e22",
      "vv": {
        "edgeType": "search-query"
      }
    },
    {
      "id": "edge-14",
      "fromNode": "fastapi-server",
      "toNode": "redis-cache",
      "label": "Redis",
      "color": "#e74c3c",
      "vv": {
        "edgeType": "redis-connection"
      }
    },
    {
      "id": "edge-15",
      "fromNode": "chat-engine",
      "toNode": "redis-cache",
      "label": "Redis",
      "color": "#e74c3c",
      "vv": {
        "edgeType": "redis-connection"
      }
    },
    {
      "id": "edge-16",
      "fromNode": "connector-framework",
      "toNode": "redis-cache",
      "label": "Redis",
      "color": "#e74c3c",
      "vv": {
        "edgeType": "redis-connection"
      }
    },
    {
      "id": "edge-17",
      "fromNode": "celery-worker",
      "toNode": "redis-cache",
      "label": "Redis",
      "color": "#e74c3c",
      "vv": {
        "edgeType": "redis-connection"
      }
    },
    {
      "id": "edge-18",
      "fromNode": "fastapi-server",
      "toNode": "minio-storage",
      "label": "S3 API",
      "color": "#f1c40f",
      "vv": {
        "edgeType": "s3-api"
      }
    },
    {
      "id": "edge-19",
      "fromNode": "indexing-pipeline",
      "toNode": "minio-storage",
      "label": "S3 API",
      "color": "#f1c40f",
      "vv": {
        "edgeType": "s3-api"
      }
    },
    {
      "id": "edge-20",
      "fromNode": "chat-engine",
      "toNode": "inference-model-server",
      "label": "LLM Request",
      "color": "#9b59b6",
      "vv": {
        "edgeType": "llm-request"
      }
    },
    {
      "id": "edge-21",
      "fromNode": "indexing-pipeline",
      "toNode": "indexing-model-server",
      "label": "LLM Request",
      "color": "#9b59b6",
      "vv": {
        "edgeType": "llm-request"
      }
    },
    {
      "id": "edge-22",
      "fromNode": "inference-model-server",
      "toNode": "llm-providers",
      "label": "LLM Request",
      "color": "#9b59b6",
      "vv": {
        "edgeType": "llm-request"
      }
    },
    {
      "id": "edge-23",
      "fromNode": "indexing-model-server",
      "toNode": "llm-providers",
      "label": "LLM Request",
      "color": "#9b59b6",
      "vv": {
        "edgeType": "llm-request"
      }
    },
    {
      "id": "edge-24",
      "fromNode": "fastapi-server",
      "toNode": "celery-worker",
      "label": "Async Task",
      "color": "#e67e22",
      "vv": {
        "edgeType": "celery-task"
      }
    },
    {
      "id": "edge-25",
      "fromNode": "celery-worker",
      "toNode": "indexing-pipeline",
      "label": "Async Task",
      "color": "#e67e22",
      "vv": {
        "edgeType": "celery-task"
      }
    },
    {
      "id": "edge-26",
      "fromNode": "celery-worker",
      "toNode": "connector-framework",
      "label": "Async Task",
      "color": "#e67e22",
      "vv": {
        "edgeType": "celery-task"
      }
    },
    {
      "id": "edge-27",
      "fromNode": "connector-framework",
      "toNode": "external-data-sources",
      "label": "External API",
      "color": "#f1c40f",
      "vv": {
        "edgeType": "external-api"
      }
    },
    {
      "id": "edge-28",
      "fromNode": "fastapi-server",
      "toNode": "mcp-server",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-29",
      "fromNode": "chat-engine",
      "toNode": "code-interpreter",
      "label": "HTTP/REST",
      "color": "#3498db",
      "vv": {
        "edgeType": "http-rest"
      }
    },
    {
      "id": "edge-30",
      "fromNode": "celery-worker",
      "toNode": "postgresql",
      "label": "SQL",
      "color": "#2ecc71",
      "vv": {
        "edgeType": "database-connection"
      }
    },
    {
      "id": "edge-31",
      "fromNode": "celery-worker",
      "toNode": "vespa-search",
      "label": "Search Query",
      "color": "#e67e22",
      "vv": {
        "edgeType": "search-query"
      }
    }
  ]
}